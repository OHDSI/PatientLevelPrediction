<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>createGlmModel — createGlmModel • PatientLevelPrediction</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="createGlmModel — createGlmModel"><meta name="description" content="Create a generalized linear model that can be used in the
PatientLevelPrediction package."><meta property="og:description" content="Create a generalized linear model that can be used in the
PatientLevelPrediction package."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PatientLevelPrediction</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">6.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/InstallationGuide.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/AddingCustomFeatureEngineering.html">Adding Custom Feature Engineering Functions</a></li>
    <li><a class="dropdown-item" href="../articles/AddingCustomModels.html">Adding Custom Patient-Level Prediction Algorithms</a></li>
    <li><a class="dropdown-item" href="../articles/AddingCustomSamples.html">Adding Custom Sampling Functions</a></li>
    <li><a class="dropdown-item" href="../articles/AddingCustomSplitting.html">Adding Custom Data Splitting</a></li>
    <li><a class="dropdown-item" href="../articles/BenchmarkTasks.html">Benchmark Tasks</a></li>
    <li><a class="dropdown-item" href="../articles/BestPractices.html">Best Practice Research</a></li>
    <li><a class="dropdown-item" href="../articles/BuildingMultiplePredictiveModels.html">Automatically Build Multiple Patient-Level Predictive Models</a></li>
    <li><a class="dropdown-item" href="../articles/BuildingPredictiveModels.html">Building patient-level predictive models</a></li>
    <li><a class="dropdown-item" href="../articles/ClinicalModels.html">Clinical Models</a></li>
    <li><a class="dropdown-item" href="../articles/ConstrainedPredictors.html">Constrained Predictors</a></li>
    <li><a class="dropdown-item" href="../articles/CreatingLearningCurves.html">Creating Learning Curves</a></li>
    <li><a class="dropdown-item" href="../articles/CreatingNetworkStudies.html">Making patient-level predictive network study packages</a></li>
    <li><a class="dropdown-item" href="../articles/GISExample.html">Integration of GIS Data Into OHDSI Model Building</a></li>
    <li><a class="dropdown-item" href="../articles/InstallationGuide.html">Patient-Level Prediction Installation Guide</a></li>
    <li><a class="dropdown-item" href="../articles/Videos.html">Demo Videos</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/BenchmarkTasks.html">Benchmarks</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/ConstrainedPredictors.html">Predictors</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/BestPractices.html">Best Practices</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/ClinicalModels.html">Clinical Models</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://ohdsi.github.io/Hades"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/OHDSI/PatientLevelPrediction"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>createGlmModel</h1>
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/PatientLevelPrediction/blob/develop/R/Glm.R" class="external-link"><code>R/Glm.R</code></a></small>
      <div class="d-none name"><code>createGlmModel.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a generalized linear model that can be used in the
PatientLevelPrediction package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">createGlmModel</span><span class="op">(</span></span>
<span>  <span class="va">coefficients</span>,</span>
<span>  intercept <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  mapping <span class="op">=</span> <span class="st">"logistic"</span>,</span>
<span>  targetId <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outcomeId <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  populationSettings <span class="op">=</span> <span class="fu"><a href="createStudyPopulationSettings.html">createStudyPopulationSettings</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  restrictPlpDataSettings <span class="op">=</span> <span class="fu"><a href="createRestrictPlpDataSettings.html">createRestrictPlpDataSettings</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  covariateSettings <span class="op">=</span> <span class="fu">FeatureExtraction</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/FeatureExtraction/man/createDefaultCovariateSettings.html" class="external-link">createDefaultCovariateSettings</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  featureEngineering <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tidyCovariates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  requireDenseMatrix <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-coefficients">coefficients<a class="anchor" aria-label="anchor" href="#arg-coefficients"></a></dt>
<dd><p>A dataframe containing two columns, coefficients and
covariateId, both of type numeric. The covariateId column must contain
valid covariateIds that match those used in the <code>FeatureExtraction</code>
package.</p></dd>


<dt id="arg-intercept">intercept<a class="anchor" aria-label="anchor" href="#arg-intercept"></a></dt>
<dd><p>A numeric value representing the intercept of the model.</p></dd>


<dt id="arg-mapping">mapping<a class="anchor" aria-label="anchor" href="#arg-mapping"></a></dt>
<dd><p>A string representing the mapping from the
linear predictors to outcome probabilities. For generalized linear models
this is the inverse of the link function. Supported values is only
"logistic" for logistic regression model at the moment.</p></dd>


<dt id="arg-targetid">targetId<a class="anchor" aria-label="anchor" href="#arg-targetid"></a></dt>
<dd><p>Add the development targetId here</p></dd>


<dt id="arg-outcomeid">outcomeId<a class="anchor" aria-label="anchor" href="#arg-outcomeid"></a></dt>
<dd><p>Add the development outcomeId here</p></dd>


<dt id="arg-populationsettings">populationSettings<a class="anchor" aria-label="anchor" href="#arg-populationsettings"></a></dt>
<dd><p>Add development population settings (this includes the time-at-risk settings).</p></dd>


<dt id="arg-restrictplpdatasettings">restrictPlpDataSettings<a class="anchor" aria-label="anchor" href="#arg-restrictplpdatasettings"></a></dt>
<dd><p>Add development restriction settings</p></dd>


<dt id="arg-covariatesettings">covariateSettings<a class="anchor" aria-label="anchor" href="#arg-covariatesettings"></a></dt>
<dd><p>Add the covariate settings here to specify how the model covariates are created from the OMOP CDM</p></dd>


<dt id="arg-featureengineering">featureEngineering<a class="anchor" aria-label="anchor" href="#arg-featureengineering"></a></dt>
<dd><p>Add any feature engineering here (e.g., if you need to modify the covariates before applying the model)
This is a list of lists containing a string named funct specifying the engineering function to call and settings that are inputs to that
function. funct must take as input trainData (a plpData object) and settings (a list).</p></dd>


<dt id="arg-tidycovariates">tidyCovariates<a class="anchor" aria-label="anchor" href="#arg-tidycovariates"></a></dt>
<dd><p>Add any tidyCovariates mappings here (e.g., if you need to normalize the covariates)</p></dd>


<dt id="arg-requiredensematrix">requireDenseMatrix<a class="anchor" aria-label="anchor" href="#arg-requiredensematrix"></a></dt>
<dd><p>Specify whether the model needs a dense matrix (TRUE or FALSE)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A model object containing the model (Coefficients and intercept)
and the prediction function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">coefficients</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  covariateId <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1002</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  coefficient <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">createGlmModel</span><span class="op">(</span><span class="va">coefficients</span>, intercept <span class="op">=</span> <span class="op">-</span><span class="fl">2.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"simulationProfile"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plpData</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulatePlpData.html">simulatePlpData</a></span><span class="op">(</span><span class="va">simulationProfile</span>, n<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Generating covariates</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Generating cohorts</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Generating outcomes</span>
<span class="r-in"><span><span class="va">prediction</span> <span class="op">&lt;-</span> <span class="fu"><a href="predictPlp.html">predictPlp</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">plpData</span>, <span class="va">plpData</span><span class="op">$</span><span class="va">cohorts</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> did FE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> did tidy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> predict risk probabilities using predictGlm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction took 0.0907 secs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Prediction done in: 0.0927 secs</span>
<span class="r-in"><span><span class="co"># see the predicted risk values</span></span></span>
<span class="r-in"><span><span class="va">prediction</span><span class="op">$</span><span class="va">value</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.3775407 0.3318122 0.3775407 0.3543437 0.3658644 0.2994329 0.3429895</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 0.3893608 0.3893608 0.3775407 0.4013123 0.3775407 0.3893608 0.3893608</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15] 0.3100255 0.3543437 0.4255575 0.3429895 0.3893608 0.3208213 0.4255575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22] 0.3208213 0.3429895 0.3543437 0.3893608 0.3543437 0.3429895 0.3543437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29] 0.3775407 0.3775407 0.3893608 0.3893608 0.3775407 0.3658644 0.3775407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36] 0.3775407 0.3429895 0.3543437 0.3658644 0.3893608 0.3318122 0.3318122</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43] 0.3775407 0.3318122 0.3318122 0.3543437 0.3100255 0.3318122 0.3429895</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [50] 0.3775407</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Egill Fridgeirsson, Jenna Reps, Martijn Schuemie, Marc Suchard, Patrick Ryan, Peter Rijnbeek.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

